{"version":3,"file":"main-BCha9Oah.js","sources":["../../../../frontend/src/service/taakService.js","../../../../frontend/src/view/takenlijst.js"],"sourcesContent":["\r\nfunction getTaken() {\r\n    return fetch(\"http://localhost:8080/restservices/taken\")\r\n        .then(response => {\r\n            return response.json().then(data => ({\r\n                status: response.status,\r\n                body: data\r\n            }));\r\n        })\r\n        .then(({ status, body }) => {\r\n            if (status === 200) {\r\n                console.log(body);\r\n                return body;\r\n            } else {\r\n                console.error(body.error);\r\n                return [];\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error fetching tasks:\", error);\r\n            return [];\r\n        });\r\n}\r\n\r\n// Function to add a task\r\nfunction addTaken(taak) {\r\n    const url = \"http://localhost:8080/restservices/addTaak\";\r\n    const options = {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8',\r\n        },\r\n        body: JSON.stringify(taak),\r\n    };\r\n    return fetch(url, options)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n            return response.json();\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error adding task:\", error);\r\n        });\r\n}\r\n\r\n\r\n// Function to update a task\r\nfunction updateTaak(taak) {\r\n    const url = `http://localhost:8080/restservices/update/${taak.naamTaak}`;\r\n    const options = {\r\n        method: \"PUT\",\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(taak),\r\n    };\r\n    return fetch(url, options)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n            return response.json();\r\n        })\r\n        .then(result => {\r\n            console.log(result);\r\n            return result;\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error updating task:\", error);\r\n        });\r\n}\r\n\r\n\r\n// Function to delete a task\r\nfunction deleteTaak(naamTaak) {\r\n    const url = `http://localhost:8080/restservices/delete/${naamTaak}`;\r\n    const options = {\r\n        method: \"DELETE\",\r\n    };\r\n    return fetch(url, options)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                console.log(\"Task deleted\");\r\n            } else if (response.status === 404) {\r\n                console.log(\"Task not found\");\r\n            } else {\r\n                console.log(\"Something else happened\");\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error deleting task:\", error);\r\n        });\r\n}\r\nexport const taakService = {\r\n    getTaken,\r\n    addTaken\r\n};\r\n","import { taakService } from '../service/taakService.js';\r\n\r\nfunction showDialog() {\r\n    // Placeholder for showDialog functionality if needed\r\n}\r\n\r\nfunction renderAllTasks(taak) {\r\n    let temp = document.querySelector(\"#taskTemplate\");\r\n    let div = document.querySelector(\".to-do-container\");\r\n\r\n    if (!temp) {\r\n        console.error(\"Template element not found.\");\r\n        return;\r\n    }\r\n\r\n    let clon = temp.content.cloneNode(true);\r\n\r\n    let articleElement = clon.querySelector(\".taak\");\r\n    articleElement.addEventListener('click', showDialog);\r\n\r\n    let h2Element = clon.querySelector(\".name\");\r\n    h2Element.textContent = taak.naamTaak || 'No Title';\r\n\r\n    let vervaltimeElement = clon.querySelector(\"time.vervaltijd\");\r\n    vervaltimeElement.setAttribute(\"datetime\", taak.vervalDatum || '');\r\n    vervaltimeElement.textContent = taak.vervalDatum || 'No Expiry Date';\r\n\r\n    let timeElement = clon.querySelector(\"time\");\r\n    timeElement.setAttribute(\"datetime\", taak.gemaaktOp || '');\r\n    const options = {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n    };\r\n    timeElement.textContent = taak.gemaaktOp\r\n        ? new Intl.DateTimeFormat(undefined, options).format(new Date(taak.gemaaktOp))\r\n        : 'No Date';\r\n\r\n    let descriptionElement = clon.querySelector(\".description\");\r\n    descriptionElement.textContent = taak.omschrijving || 'No Description';\r\n\r\n    div.appendChild(clon);\r\n}\r\n\r\nfunction render() {\r\n    let tasksElement = document.querySelector(\".to-do-container\");\r\n\r\n    if (!tasksElement) {\r\n        console.error(\"Element with class 'to-do-container' not found in the DOM.\");\r\n        return;\r\n    }\r\n\r\n    taakService.getTaken()\r\n        .then(taken => {\r\n            tasksElement.innerHTML = \"\"; // Clear existing content\r\n            taken.forEach(taak => {\r\n                if (taak) {\r\n                    renderAllTasks(taak);\r\n                } else {\r\n                    console.warn('Encountered a null task object');\r\n                }\r\n            });\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error getting all tasks:\", error);\r\n        });\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', render);\r\n"],"names":["getTaken","response","data","status","body","error","addTaken","taak","url","options","taakService","showDialog","renderAllTasks","temp","div","clon","h2Element","vervaltimeElement","timeElement","descriptionElement","render","tasksElement","taken"],"mappings":"ssBACA,SAASA,GAAW,CAChB,OAAO,MAAM,0CAA0C,EAClD,KAAKC,GACKA,EAAS,OAAO,KAAKC,IAAS,CACjC,OAAQD,EAAS,OACjB,KAAMC,CACT,EAAC,CACL,EACA,KAAK,CAAC,CAAE,OAAAC,EAAQ,KAAAC,KACTD,IAAW,KACX,QAAQ,IAAIC,CAAI,EACTA,IAEP,QAAQ,MAAMA,EAAK,KAAK,EACjB,GAEd,EACA,MAAMC,IACH,QAAQ,MAAM,wBAAyBA,CAAK,EACrC,GACV,CACT,CAGA,SAASC,EAASC,EAAM,CACpB,MAAMC,EAAM,6CACNC,EAAU,CACZ,OAAQ,OACR,QAAS,CACL,eAAgB,gCACnB,EACD,KAAM,KAAK,UAAUF,CAAI,CACjC,EACI,OAAO,MAAMC,EAAKC,CAAO,EACpB,KAAKR,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE5D,OAAOA,EAAS,MAC5B,CAAS,EACA,MAAMI,GAAS,CACZ,QAAQ,MAAM,qBAAsBA,CAAK,CACrD,CAAS,CACT,CAgDO,MAAMK,EAAc,CACvB,SAAAV,EACA,SAAAM,CACJ,EC7FA,SAASK,GAAa,CAEtB,CAEA,SAASC,EAAeL,EAAM,CAC1B,IAAIM,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAM,SAAS,cAAc,kBAAkB,EAEnD,GAAI,CAACD,EAAM,CACP,QAAQ,MAAM,6BAA6B,EAC3C,MACH,CAED,IAAIE,EAAOF,EAAK,QAAQ,UAAU,EAAI,EAEjBE,EAAK,cAAc,OAAO,EAChC,iBAAiB,QAASJ,CAAU,EAEnD,IAAIK,EAAYD,EAAK,cAAc,OAAO,EAC1CC,EAAU,YAAcT,EAAK,UAAY,WAEzC,IAAIU,EAAoBF,EAAK,cAAc,iBAAiB,EAC5DE,EAAkB,aAAa,WAAYV,EAAK,aAAe,EAAE,EACjEU,EAAkB,YAAcV,EAAK,aAAe,iBAEpD,IAAIW,EAAcH,EAAK,cAAc,MAAM,EAC3CG,EAAY,aAAa,WAAYX,EAAK,WAAa,EAAE,EACzD,MAAME,EAAU,CACZ,KAAM,UACN,MAAO,OACP,IAAK,SACb,EACIS,EAAY,YAAcX,EAAK,UACzB,IAAI,KAAK,eAAe,OAAWE,CAAO,EAAE,OAAO,IAAI,KAAKF,EAAK,SAAS,CAAC,EAC3E,UAEN,IAAIY,EAAqBJ,EAAK,cAAc,cAAc,EAC1DI,EAAmB,YAAcZ,EAAK,cAAgB,iBAEtDO,EAAI,YAAYC,CAAI,CACxB,CAEA,SAASK,GAAS,CACd,IAAIC,EAAe,SAAS,cAAc,kBAAkB,EAE5D,GAAI,CAACA,EAAc,CACf,QAAQ,MAAM,4DAA4D,EAC1E,MACH,CAEDX,EAAY,SAAU,EACjB,KAAKY,GAAS,CACXD,EAAa,UAAY,GACzBC,EAAM,QAAQf,GAAQ,CACdA,EACAK,EAAeL,CAAI,EAEnB,QAAQ,KAAK,gCAAgC,CAEjE,CAAa,CACb,CAAS,EACA,MAAMF,GAAS,CACZ,QAAQ,MAAM,2BAA4BA,CAAK,CAC3D,CAAS,CACT,CAEA,SAAS,iBAAiB,mBAAoBe,CAAM"}